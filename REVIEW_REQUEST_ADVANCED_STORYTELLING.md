# Review Request: Advanced Storytelling Techniques Implementation

## 1. 概要 (Overview)

今回の作業では、**「日本的感性とAI最適構造の融合」**、および**「作家・編集者ペルソナによる品質管理体制」**を構築しました。
これらは以下の4つの柱で構成されています。

1.  **3つの文学的モード（Literary Modes）**: 辻村深月（Somatic）、米澤穂信（Logic）、宮部みゆき（Tapestry）の技法を体系化。
2.  **双子星スタッフ（Staff Personas）**: 作家「富山あるき」と編集者「織部紡」による相互補完・相互監視体制。
3.  **スキル実装（Skill Implementation）**: 3つのスキル（執筆・批評・キャラクター人格定義）による自動化。
4.  **設計ドキュメント体系**: `NOVEL-WRITING-AI-PROMPT-DESIGN.md`（約2,100行）を頂点とするプロンプト設計体系。

### ソース情報

本ドキュメントの作成にあたり、以下のNotebookLMナレッジベースを参照しました。

- **NotebookLM ID**: `8bc0ef83-2641-4021-863b-1f2d24820961`
- **URL**: [NotebookLM ソース](https://notebooklm.google.com/notebook/8bc0ef83-2641-4021-863b-1f2d24820961)

---

## 2. 実装内容 (Implementation Details)

### A. 文学的モードの実装

以下の3つのモードを定義し、執筆・批評の両面で適用可能にしました。
三者はミステリーというジャンルの中で、**「主観（感情）」「論理（構造）」「社会（環境）」**というそれぞれ異なるベクトルに重点を置いた作風を確立しており、この三極構造をAI執筆のモードとして体系化しています。

#### A-1. 比較総覧

| 観点 | **Somatic** (辻村深月) | **Logic** (米澤穂信) | **Tapestry** (宮部みゆき) |
| :--- | :--- | :--- | :--- |
| **視点・文体** | 極端な内的焦点化。感情バイアスによる主観的記述。「信頼できない語り手」 | 制限された一人称。論理のフィルターを通したシニカルな観察者視点 | 多声的（Polyphonic）。多視点で社会全体を俯瞰するゼロ焦点化 |
| **感情描写** | 身体化（ソマティック・マーカー）。震え・痛み・呼吸・体温として直接的に描写 | 抑制と客観的相関物。感情を論理や風景・環境音に仮託して隠蔽 | 生活リアリズム。社会的・経済的環境に根ざした感情として描写 |
| **テーマ** | 関係性の救済。トラウマ・自意識・承認欲求の克服 | 論理と倫理。論理的解決がもたらす苦味（Bitter Aftertaste） | 社会構造と個人。貧困・格差・社会システムの歪み |
| **論理構造** | Hub-and-Spoke：バラバラの記憶が感情的真実に収束 | Domino Chain：帰納的論理。小さな謎→構造的アイロニーによる残酷な真実 | Ripple Effect：一つの事件が波及し社会全体をモザイク画のように浮かび上がらせる |
| **参考作品** | 『かがみの孤城』『ゼロ、ハチ、ゼロ、ナナ。』『鍵のない夢を見る』 | 『氷菓』〈古典部〉シリーズ（「日常の謎」の確立者） | 『火車』『理由』（クレジットカード破産・家族崩壊等の社会問題） |

#### A-2. 各モードの設計根拠

**Somatic Mode — 主観の極致と身体化される感情**

辻村深月の特徴は、視点人物の精神状態が世界の描写そのものを歪ませるほどの「極端な内的焦点化」にあります。思春期の自意識過剰や劣等感、承認欲求といったフィルターを通して世界が語られ、「感情バイアスによる信頼できない語り手」として機能します。客観的事実よりも、登場人物が互いの痛みを理解し合えるかという**「感情的真実（Emotional Truth）」**の合致に重きが置かれます。嫉妬や自己嫌悪といった直視したくない感情を容赦なく言語化し、それを「呼吸が浅くなる」「喉が渇く」「手足が震える」「視界が歪む」といった**身体的反応（ソマティック・マーカー）**として克明に描写します。

**Logic Mode — 論理のフィルターと感情の抑制**

米澤穂信は、シニカルな観察者として世界を「論理（ロジック）」というフィルターを通して解釈します。事象の構造や因果関係は精緻に言語化されますが、生々しい感情については意図的に記述を避けます。小さな謎から出発し、**帰納的論理**を積み重ねて真相に到達するスタイルをとりますが、その論理の完成図が予想外の残酷な真実を映し出すという**構造的アイロニー**が特徴です。感情を直接言葉にするのではなく、周囲の風景や物のディテールに仮託する**客観的相関物（Objective Correlative）**の手法により、読者は語られなかった「空白」を想像し、冷徹で不気味な**ビターな余韻**を味わうことになります。「日常の謎」の代表的作家であり、「読者が解けるように書く」というミステリーのフェアネスも重視しています。

**Tapestry Mode — 多声的な視点と社会のリアリズム**

宮部みゆきは、特定の個人の内面のみに固執せず、加害者・被害者・家族・隣人・警察官など無数の関係者の視点を次々と切り替えていく**「多声的（Polyphonic）」なパノラマ的視点**が特徴です。複数の視点を重ね合わせることで、単一の視点では見えない事件の全体像や社会的背景を**モザイク画**のように浮かび上がらせます。登場人物の感情を、その置かれた社会的・経済的環境（貧困・格差・借金苦など）に対する自然な反応として描く**「共感のリアリズム」**を用い、日々の食事や家計のやりくり、湯呑みの位置や掃除道具といった**「生活のディテール」**を丹念に積み上げることで、「自分もこうなるかもしれない」という切実なリアリティを生み出します。

#### A-3. 禁止・強制ルール

各モードの詳細な禁止事項・強制事項は、執筆スキル（`write-scene`）に実装されています。

### B. スキル定義 (Skills)

3つのスキルを `.agent/skills/` 配下に実装しました。

#### B-1. 執筆スキル: `.agent/skills/novel-writing-technique/SKILL.md`

| コマンド | 機能 | 対応モード |
| :--- | :--- | :--- |
| `generate-character` | モード別の内面葛藤を付与したキャラクター生成 | Somatic: 自意識・承認欲求 / Logic: 論理の盾 / Tapestry: 社会的鎖 |
| `construct-plot` | プロット構造の生成 | Hub-and-Spoke (Somatic) / Domino Chain (Logic) / Ripple Effect (Tapestry) |
| `write-scene` | 指定モードでのシーン執筆 | 全モード対応（モード固有の禁止・強制事項を適用） |
| `auto-mode-select` | シーン内容に応じた最適モード提案 | 診断→Logic / 回想→Somatic / 解決→Hybrid |

#### B-2. 批評スキル: `.agent/skills/novel-critique/SKILL.md`

| コマンド | 機能 |
| :--- | :--- |
| `review-sensibility` | Somatic基準：感情語（NGワード）の検出 → 身体描写への書き換え案提示 |
| `review-logic` | Logic基準：因果律の破綻・ご都合主義（Deus ex machina）・感情過多の指摘 |
| `review-social` | Tapestry基準：生活感の欠如（家計・職業的リアリティ）の指摘 |
| `review-all` | 総合批評：3モードのスコアリング（/10）+ 具体的改稿アドバイス |

#### B-3. キャラクター人格定義スキル: `.agent/skills/character-identity/SKILL.md`

| 機能 | 内容 |
| :--- | :--- |
| identity.md 生成 | 命式・性格・話し方・外見の定義 |
| soul.md 生成 | 天中殺・大運・成長弧・世界観の定義 |
| 算命学ファースト原則 | すべての性格特性に命式出典を必須化 |
| 巡の語りの原則 | 算命学用語を患者の言葉に翻訳するルール |
| CLI検証義務 | `sanmei-with-energy-cli.ts` によるダブルチェック |

### C. スタッフペルソナ (Personas)

**「1990年3月の双子星」**として、互いに補完・対立する2人のAI人格を設定しました。
五行の相生関係（木生火）と天中殺の対冲（辰巳↔戌亥）を設計の軸にしています。

#### 1. [作家] 富山 あるき (Toyama Aruki)

| 項目 | 内容 |
| :--- | :--- |
| **生年月日** | 1990-03-03 |
| **日柱** | 丁卯（灯火のウサギ） |
| **天中殺** | 戌亥天中殺（夢見・精神世界） |
| **中心星** | 玉堂星（知恵・伝統・母性） |
| **従星** | 天禄星（11点 / 安定の補佐役） |
| **役割** | 月光の作家 (Dreamer / Somatic Mode) |
| **スタンス** | 「私は傷口を縫うために書いているのではない。傷口の形を記録するために書いている」 |
| **ファイル** | `novel/characters/personas/toyama-aruki/` (identity.md + soul.md) |

#### 2. [編集者] 織部 紡 (Oribe Tsumugu)

| 項目 | 内容 |
| :--- | :--- |
| **生年月日** | 1990-03-30 |
| **日柱** | 甲午（真夏の乾燥した大樹） |
| **天中殺** | 辰巳天中殺（現実・行動・はみ出し運） |
| **中心星** | 石門星（集団・政治・清濁併呑） |
| **従星** | 天将星（12点 / 最大エネルギー・王者） |
| **役割** | 燃える大樹の編集者 (Realist / Logic Mode) |
| **スタンス** | 「読者は暇ではない。一行目で心臓を掴め。掴めないなら、その行はゴミだ」 |
| **ファイル** | `novel/characters/personas/oribe-tsumugu/` (identity.md + soul.md) |

#### 双子星の五行関係

```
  織部 紡（甲・木）──木生火──▶ 富山 あるき（丁・火）
  辰巳天中殺（現実）  ◀──対冲──▶  戌亥天中殺（夢想）
```

織部が「燃料（木）」を供給し、あるきが「灯火（丁）」として物語を照らす構造です。

### D. 設定ファイル (Configuration)

以下のファイルに統合・反映済みです。

| ファイル | 反映内容 |
| :--- | :--- |
| **`CLAUDE.md`** | 文学的モードの定義、スタッフペルソナ（双子星）、スキル参照、ワークフロー |
| **`AGENTS.md`** | StoryReviewer エージェントに `novel-critique (review-all)` の使用を義務付け |
| **`novel/settings/NOVEL-WRITING-AI-PROMPT-DESIGN.md`** | 上位設計書（約2,100行）。第6章に日本的感性の実装詳細、第9章にペルソナ設計を記載 |

---

## 3. 今後のワークフロー (Future Workflow)

モード・担当者・コマンドを明示して指示を出してください。

### ケース1: 感情的なシーンを書きたい時

> **指示**: 「あるき先生、Somatic Modeで、巡が過去のトラウマを思い出すシーンを書いてください」
>
> **AIの挙動**: 「喉の渇き」「視野の歪み」などの身体的反応を駆使し、内面深く潜る描写を行います。感情語は一切使用しません。
>
> **関連コマンド**: `write-scene` (Somatic) → `review-sensibility` で品質チェック

### ケース2: 謎解きや診断シーン

> **指示**: 「織部さん、Logic Modeで、この診断シーンの矛盾点を厳しく指摘してください」
>
> **AIの挙動**: 感情論を排し、論理的整合性・因果関係・客観的相関物の有無・「ビターな後味」の質をチェックします。
>
> **関連コマンド**: `review-logic` で構造チェック → `review-all` で総合評価

### ケース3: 社会派ドラマ・群像劇パート

> **指示**: 「Tapestry Modeで、患者の生活背景（経済状況や家族構成）を深掘りしてください」
>
> **AIの挙動**: 食事の内容、家賃、職場の人間関係など、具体的な「生活の手触り」を追加します。抽象的な社会批判は行いません。
>
> **関連コマンド**: `write-scene` (Tapestry) → `review-social` で生活感チェック
>
> **注意**: Tapestry Modeはあるき・織部いずれのペルソナでも対応可能です。あるきが使えば「生活に宿る痛み」寄りに、織部が使えば「社会構造の論理」寄りになります。

### ケース4: 新キャラクターの作成

> **指示**: 「EP40のキャラクターを作成してください」
>
> **AIの挙動**: `character-identity` スキルに従い、算命学CLIで命式を検証後、`identity.md` + `soul.md` を生成します。
>
> **関連コマンド**: `generate-character` → CLI検証 → `character-identity` スキルで identity.md / soul.md 生成

---

## 4. レビュー依頼 (Review Checklist)

### A. スキルファイルの確認

- [ ] `.agent/skills/novel-writing-technique/SKILL.md` — 3モードの禁止事項・強制事項が十分に具体的か
- [ ] `.agent/skills/novel-critique/SKILL.md` — `review-all` の出力フォーマットが運用に適しているか
- [ ] `.agent/skills/character-identity/SKILL.md` — 「巡の語りの原則」が明確に分離されているか

### B. ペルソナの確認

- [ ] `novel/characters/personas/toyama-aruki/` — identity.md と soul.md が双子星として機能するか
- [ ] `novel/characters/personas/oribe-tsumugu/` — 五行関係（木生火）と天中殺対冲が設定に反映されているか
- [ ] 双子星のワークフロー（Draft → Review）が実運用で回るか

### C. 設定の連携確認

- [ ] `CLAUDE.md` ← `AGENTS.md` ← スキルファイル の参照が循環せず一方向になっているか
- [ ] `NOVEL-WRITING-AI-PROMPT-DESIGN.md`（第6章・第9章）との矛盾がないか
- [ ] StoryReviewer エージェントが `review-all` を確実に実行する導線があるか

### D. 未解決課題

| 課題 | 状態 | 備考 |
| :--- | :--- | :--- |
| Tapestry Mode専任ペルソナの要否 | 🟡 検討中 | 現状は双子星のハイブリッドで対応。専任が必要か要判断 |
| `auto-mode-select` の実運用検証 | 🟡 未実施 | 実際のエピソードで精度確認が必要 |
| `construct-plot` の3パターン検証 | 🟡 未実施 | Hub-and-Spoke / Domino Chain / Ripple Effect の出力品質確認 |

以上、ご確認をお願いいたします。
